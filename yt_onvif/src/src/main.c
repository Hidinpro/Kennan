/******************************************************************************
*                               Include files
******************************************************************************/
#include <stdio.h>
#include <string.h>

#include "onvif_curl.h"
#include "onvif_capabilities.h"
/*******************************************************************************
 *                         Type definition ('typedef')
 ******************************************************************************/
/*******************************************************************************
 *                   Preprocessor symbols/macros ("# define")
 ******************************************************************************/
/*******************************************************************************
 *   Global variable definition (declared with 'extern' in the header file)
 ******************************************************************************/
/*******************************************************************************
 *                    Local Function Definition ("staitc")
 ******************************************************************************/
/*******************************************************************************
 *                  Local variable definition (“static”)
 ******************************************************************************/
/*******************************************************************************
 *       Function Implementation - Global ("extern") and Local ("static")
 ******************************************************************************/

/**
  * @brief  main fuction
  * @param  None
  * @retval None
  */
int main(int argc, char **argv)
{
    char media_address[20000];
    memset(media_address, 0, sizeof(media_address));
    onvif_get_snapshot_url(media_address, sizeof(media_address), MAINSTREAM);
    curl_get("out.jpeg", media_address);
    return 0;
}
